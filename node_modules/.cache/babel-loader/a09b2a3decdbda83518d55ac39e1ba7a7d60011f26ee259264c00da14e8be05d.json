{"ast":null,"code":"var _jsxFileName = \"/Users/y/Documents/GitHub/react-pwa-karute/src/components/Patients.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { fetchPatients } from '../api/fetchPatients';\nimport { addPatient, updatePatient, deletePatient } from '../api/patientOperations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Patients = () => {\n  _s();\n  const [patients, setPatients] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newTeam, setNewTeam] = useState('');\n  const [editId, setEditId] = useState(null);\n  const [editName, setEditName] = useState('');\n  const [editTeam, setEditTeam] = useState('');\n  useEffect(() => {\n    const getPatients = async () => {\n      const data = await fetchPatients();\n      setPatients(data);\n    };\n    getPatients();\n  }, []);\n  const handleAdd = async () => {\n    const result = await addPatient(newName, newTeam);\n    if (result) {\n      alert('患者を追加しました');\n      setPatients([...patients, ...result]);\n    }\n  };\n  const handleUpdate = async id => {\n    const result = await updatePatient(id, editName, editTeam);\n    if (result) {\n      alert('患者情報を更新しました');\n      setPatients(prev => prev.map(p => p.id === id ? {\n        ...p,\n        name: editName,\n        team: editTeam\n      } : p));\n    }\n  };\n  const handleDelete = async id => {\n    const result = await deletePatient(id);\n    if (result) {\n      alert('患者を削除しました');\n      setPatients(prev => prev.filter(p => p.id !== id));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u60A3\\u8005\\u4E00\\u89A7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u60A3\\u8005\\u540D\",\n        value: newName,\n        onChange: e => setNewName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"\\u30C1\\u30FC\\u30E0\",\n        value: newTeam,\n        onChange: e => setNewTeam(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAdd,\n        children: \"\\u8FFD\\u52A0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: patients.map(patient => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [patient.name, \"\\uFF08\\u30C1\\u30FC\\u30E0: \", patient.team, \"\\uFF09\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditId(patient.id);\n            setEditName(patient.name);\n            setEditTeam(patient.team);\n          },\n          children: \"\\u7DE8\\u96C6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleDelete(patient.id),\n          children: \"\\u524A\\u9664\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), editId === patient.id && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"\\u65B0\\u3057\\u3044\\u540D\\u524D\",\n            value: editName,\n            onChange: e => setEditName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"\\u65B0\\u3057\\u3044\\u30C1\\u30FC\\u30E0\",\n            value: editTeam,\n            onChange: e => setEditTeam(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleUpdate(patient.id),\n            children: \"\\u66F4\\u65B0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, patient.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Patients, \"xn33khoEWt9im7qjxGPlldYdbyA=\");\n_c = Patients;\nexport default Patients;\nvar _c;\n$RefreshReg$(_c, \"Patients\");","map":{"version":3,"names":["React","useState","useEffect","fetchPatients","addPatient","updatePatient","deletePatient","jsxDEV","_jsxDEV","Patients","_s","patients","setPatients","newName","setNewName","newTeam","setNewTeam","editId","setEditId","editName","setEditName","editTeam","setEditTeam","getPatients","data","handleAdd","result","alert","handleUpdate","id","prev","map","p","name","team","handleDelete","filter","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onClick","patient","_c","$RefreshReg$"],"sources":["/Users/y/Documents/GitHub/react-pwa-karute/src/components/Patients.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchPatients } from '../api/fetchPatients';\nimport { addPatient, updatePatient, deletePatient } from '../api/patientOperations';\n\nconst Patients = () => {\n  const [patients, setPatients] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newTeam, setNewTeam] = useState('');\n  const [editId, setEditId] = useState(null);\n  const [editName, setEditName] = useState('');\n  const [editTeam, setEditTeam] = useState('');\n\n  useEffect(() => {\n    const getPatients = async () => {\n      const data = await fetchPatients();\n      setPatients(data);\n    };\n    getPatients();\n  }, []);\n\n  const handleAdd = async () => {\n    const result = await addPatient(newName, newTeam);\n    if (result) {\n      alert('患者を追加しました');\n      setPatients([...patients, ...result]);\n    }\n  };\n\n  const handleUpdate = async (id) => {\n    const result = await updatePatient(id, editName, editTeam);\n    if (result) {\n      alert('患者情報を更新しました');\n      setPatients((prev) =>\n        prev.map((p) => (p.id === id ? { ...p, name: editName, team: editTeam } : p))\n      );\n    }\n  };\n\n  const handleDelete = async (id) => {\n    const result = await deletePatient(id);\n    if (result) {\n      alert('患者を削除しました');\n      setPatients((prev) => prev.filter((p) => p.id !== id));\n    }\n  };\n\n  return (\n    <div>\n      <h2>患者一覧</h2>\n\n      <div>\n        <input \n          placeholder=\"患者名\" \n          value={newName} \n          onChange={(e) => setNewName(e.target.value)} \n        />\n        <input \n          placeholder=\"チーム\" \n          value={newTeam} \n          onChange={(e) => setNewTeam(e.target.value)} \n        />\n        <button onClick={handleAdd}>追加</button>\n      </div>\n\n      <ul>\n        {patients.map((patient) => (\n          <li key={patient.id}>\n            {patient.name}（チーム: {patient.team}）\n            <button onClick={() => { setEditId(patient.id); setEditName(patient.name); setEditTeam(patient.team); }}>編集</button>\n            <button onClick={() => handleDelete(patient.id)}>削除</button>\n\n            {editId === patient.id && (\n              <div>\n                <input \n                  placeholder=\"新しい名前\" \n                  value={editName} \n                  onChange={(e) => setEditName(e.target.value)} \n                />\n                <input \n                  placeholder=\"新しいチーム\" \n                  value={editTeam} \n                  onChange={(e) => setEditTeam(e.target.value)} \n                />\n                <button onClick={() => handleUpdate(patient.id)}>更新</button>\n              </div>\n            )}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Patients;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}