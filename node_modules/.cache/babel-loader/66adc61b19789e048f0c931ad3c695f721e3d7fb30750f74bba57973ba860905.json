{"ast":null,"code":"import { supabase } from '../utils/supabaseClient';\n\n// 患者を追加\nexport const addPatient = async (name, team) => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from('patients').insert([{\n      name,\n      team\n    }]).select(); // 追加: IDを含むデータを取得\n\n    if (error) throw error;\n    return data[0]; // 生成された患者データを返す\n  } catch (error) {\n    console.error('Error adding patient:', error.message);\n    return null;\n  }\n};\n\n// 患者情報を更新\nexport const updatePatient = async (patientId, name, team) => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n    const {\n      data,\n      error\n    } = await supabase.from('patients').update({\n      name,\n      team\n    }).eq('id', patientId); // 修正: 'id' フィールドで更新\n\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error updating patient:', error.message);\n    return null;\n  }\n};\n\n// 患者を削除\nexport const deletePatient = async patientId => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n    const {\n      data,\n      error\n    } = await supabase.from('patients').delete().eq('id', patientId);\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error deleting patient:', error.message);\n    return null;\n  }\n};","map":{"version":3,"names":["supabase","addPatient","name","team","data","error","from","insert","select","console","message","updatePatient","patientId","Error","update","eq","deletePatient","delete"],"sources":["/Users/y/Documents/GitHub/react-pwa-karute/src/api/patientOperations.js"],"sourcesContent":["import { supabase } from '../utils/supabaseClient';\n\n// 患者を追加\nexport const addPatient = async (name, team) => {\n  try {\n    const { data, error } = await supabase\n      .from('patients')\n      .insert([{ name, team }])\n      .select(); // 追加: IDを含むデータを取得\n\n    if (error) throw error;\n    return data[0]; // 生成された患者データを返す\n  } catch (error) {\n    console.error('Error adding patient:', error.message);\n    return null;\n  }\n};\n\n// 患者情報を更新\nexport const updatePatient = async (patientId, name, team) => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n\n    const { data, error } = await supabase\n      .from('patients')\n      .update({ name, team })\n      .eq('id', patientId); // 修正: 'id' フィールドで更新\n\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error updating patient:', error.message);\n    return null;\n  }\n};\n\n// 患者を削除\nexport const deletePatient = async (patientId) => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n\n    const { data, error } = await supabase\n      .from('patients')\n      .delete()\n      .eq('id', patientId);\n\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error deleting patient:', error.message);\n    return null;\n  }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,yBAAyB;;AAElD;AACA,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,IAAI,KAAK;EAC9C,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAML,QAAQ,CACnCM,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,CAAC;MAAEL,IAAI;MAAEC;IAAK,CAAC,CAAC,CAAC,CACxBK,MAAM,CAAC,CAAC,CAAC,CAAC;;IAEb,IAAIH,KAAK,EAAE,MAAMA,KAAK;IACtB,OAAOD,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EAClB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACK,OAAO,CAAC;IACrD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,SAAS,EAAEV,IAAI,EAAEC,IAAI,KAAK;EAC5D,IAAI;IACF,IAAI,CAACS,SAAS,IAAIA,SAAS,KAAK,WAAW,EAAE;MAC3C,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAM;MAAET,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAML,QAAQ,CACnCM,IAAI,CAAC,UAAU,CAAC,CAChBQ,MAAM,CAAC;MAAEZ,IAAI;MAAEC;IAAK,CAAC,CAAC,CACtBY,EAAE,CAAC,IAAI,EAAEH,SAAS,CAAC,CAAC,CAAC;;IAExB,IAAIP,KAAK,EAAE,MAAMA,KAAK;IACtB,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACK,OAAO,CAAC;IACvD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMM,aAAa,GAAG,MAAOJ,SAAS,IAAK;EAChD,IAAI;IACF,IAAI,CAACA,SAAS,IAAIA,SAAS,KAAK,WAAW,EAAE;MAC3C,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAM;MAAET,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAML,QAAQ,CACnCM,IAAI,CAAC,UAAU,CAAC,CAChBW,MAAM,CAAC,CAAC,CACRF,EAAE,CAAC,IAAI,EAAEH,SAAS,CAAC;IAEtB,IAAIP,KAAK,EAAE,MAAMA,KAAK;IACtB,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdI,OAAO,CAACJ,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACK,OAAO,CAAC;IACvD,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}