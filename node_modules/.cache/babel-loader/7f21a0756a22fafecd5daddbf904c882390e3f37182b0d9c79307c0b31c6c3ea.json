{"ast":null,"code":"import { supabase } from '../utils/supabaseClient';\n\n// 患者を追加\nexport const addPatient = async (name, team) => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from('patients').insert([{\n      name,\n      team\n    }]).select(); // データを取得\n\n    if (error) throw error;\n    if (data && data.length > 0) {\n      return data[0]; // 挿入された患者情報を返す\n    } else {\n      throw new Error('Patient ID not generated');\n    }\n  } catch (error) {\n    console.error('Error adding patient:', error.message);\n    return null;\n  }\n};\n\n// 患者情報を更新\nexport const updatePatient = async (patientId, name, team) => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n    const {\n      data,\n      error\n    } = await supabase.from('patients').update({\n      name,\n      team\n    }).eq('id', patientId);\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error updating patient:', error.message);\n    return null;\n  }\n};\n\n// 患者を削除\nexport const deletePatient = async patientId => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n    const {\n      data,\n      error\n    } = await supabase.from('patients').delete().eq('id', patientId);\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error deleting patient:', error.message);\n    return null;\n  }\n};","map":{"version":3,"names":["supabase","addPatient","name","team","data","error","from","insert","select","length","Error","console","message","updatePatient","patientId","update","eq","deletePatient","delete"],"sources":["/Users/y/Documents/GitHub/react-pwa-karute/src/api/patientOperations.js"],"sourcesContent":["import { supabase } from '../utils/supabaseClient';\n\n// 患者を追加\nexport const addPatient = async (name, team) => {\n  try {\n    const { data, error } = await supabase\n      .from('patients')\n      .insert([{ name, team }])\n      .select(); // データを取得\n\n    if (error) throw error;\n    if (data && data.length > 0) {\n      return data[0]; // 挿入された患者情報を返す\n    } else {\n      throw new Error('Patient ID not generated');\n    }\n  } catch (error) {\n    console.error('Error adding patient:', error.message);\n    return null;\n  }\n};\n\n// 患者情報を更新\nexport const updatePatient = async (patientId, name, team) => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n\n    const { data, error } = await supabase\n      .from('patients')\n      .update({ name, team })\n      .eq('id', patientId);\n\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error updating patient:', error.message);\n    return null;\n  }\n};\n\n// 患者を削除\nexport const deletePatient = async (patientId) => {\n  try {\n    if (!patientId || patientId === 'undefined') {\n      throw new Error('Invalid patient ID');\n    }\n\n    const { data, error } = await supabase\n      .from('patients')\n      .delete()\n      .eq('id', patientId);\n\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error deleting patient:', error.message);\n    return null;\n  }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,yBAAyB;;AAElD;AACA,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,IAAI,EAAEC,IAAI,KAAK;EAC9C,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAML,QAAQ,CACnCM,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,CAAC;MAAEL,IAAI;MAAEC;IAAK,CAAC,CAAC,CAAC,CACxBK,MAAM,CAAC,CAAC,CAAC,CAAC;;IAEb,IAAIH,KAAK,EAAE,MAAMA,KAAK;IACtB,IAAID,IAAI,IAAIA,IAAI,CAACK,MAAM,GAAG,CAAC,EAAE;MAC3B,OAAOL,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,MAAM;MACL,MAAM,IAAIM,KAAK,CAAC,0BAA0B,CAAC;IAC7C;EACF,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAACO,OAAO,CAAC;IACrD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOC,SAAS,EAAEZ,IAAI,EAAEC,IAAI,KAAK;EAC5D,IAAI;IACF,IAAI,CAACW,SAAS,IAAIA,SAAS,KAAK,WAAW,EAAE;MAC3C,MAAM,IAAIJ,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAM;MAAEN,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAML,QAAQ,CACnCM,IAAI,CAAC,UAAU,CAAC,CAChBS,MAAM,CAAC;MAAEb,IAAI;MAAEC;IAAK,CAAC,CAAC,CACtBa,EAAE,CAAC,IAAI,EAAEF,SAAS,CAAC;IAEtB,IAAIT,KAAK,EAAE,MAAMA,KAAK;IACtB,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACO,OAAO,CAAC;IACvD,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMK,aAAa,GAAG,MAAOH,SAAS,IAAK;EAChD,IAAI;IACF,IAAI,CAACA,SAAS,IAAIA,SAAS,KAAK,WAAW,EAAE;MAC3C,MAAM,IAAIJ,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAM;MAAEN,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAML,QAAQ,CACnCM,IAAI,CAAC,UAAU,CAAC,CAChBY,MAAM,CAAC,CAAC,CACRF,EAAE,CAAC,IAAI,EAAEF,SAAS,CAAC;IAEtB,IAAIT,KAAK,EAAE,MAAMA,KAAK;IACtB,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAACO,OAAO,CAAC;IACvD,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}