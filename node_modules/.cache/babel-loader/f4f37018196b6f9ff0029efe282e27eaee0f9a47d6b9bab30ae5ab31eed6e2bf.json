{"ast":null,"code":"import { supabase } from '../utils/supabaseClient';\n\n// 患者名を取得\nexport const fetchPatientName = async patientId => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from('patients').select('name').eq('id', patientId).single();\n    if (error) throw error;\n    return data.name;\n  } catch (error) {\n    console.error('Error fetching patient name:', error.message);\n    return '不明';\n  }\n};\n\n// 患者の施術履歴を取得\nexport const fetchTreatments = async patientId => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from('treatments').select('*').eq('patient_id', patientId);\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error fetching treatments:', error.message);\n    return [];\n  }\n};\n\n// 患者の受傷履歴を取得\nexport const fetchInjuries = async patientId => {\n  try {\n    const {\n      data,\n      error\n    } = await supabase.from('injuries').select('*').eq('patient_id', patientId);\n    if (error) throw error;\n    return data;\n  } catch (error) {\n    console.error('Error fetching injuries:', error.message);\n    return [];\n  }\n};","map":{"version":3,"names":["supabase","fetchPatientName","patientId","data","error","from","select","eq","single","name","console","message","fetchTreatments","fetchInjuries"],"sources":["/Users/y/Documents/GitHub/react-pwa-karute/src/api/fetchPatientDetails.js"],"sourcesContent":["import { supabase } from '../utils/supabaseClient';\n\n// 患者名を取得\nexport const fetchPatientName = async (patientId) => {\n  try {\n    const { data, error } = await supabase\n      .from('patients')\n      .select('name')\n      .eq('id', patientId)\n      .single();\n\n    if (error) throw error;\n\n    return data.name;\n  } catch (error) {\n    console.error('Error fetching patient name:', error.message);\n    return '不明';\n  }\n};\n\n// 患者の施術履歴を取得\nexport const fetchTreatments = async (patientId) => {\n  try {\n    const { data, error } = await supabase\n      .from('treatments')\n      .select('*')\n      .eq('patient_id', patientId);\n\n    if (error) throw error;\n\n    return data;\n  } catch (error) {\n    console.error('Error fetching treatments:', error.message);\n    return [];\n  }\n};\n\n// 患者の受傷履歴を取得\nexport const fetchInjuries = async (patientId) => {\n  try {\n    const { data, error } = await supabase\n      .from('injuries')\n      .select('*')\n      .eq('patient_id', patientId);\n\n    if (error) throw error;\n\n    return data;\n  } catch (error) {\n    console.error('Error fetching injuries:', error.message);\n    return [];\n  }\n};\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,yBAAyB;;AAElD;AACA,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,SAAS,IAAK;EACnD,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,MAAM,CAAC,CACdC,EAAE,CAAC,IAAI,EAAEL,SAAS,CAAC,CACnBM,MAAM,CAAC,CAAC;IAEX,IAAIJ,KAAK,EAAE,MAAMA,KAAK;IAEtB,OAAOD,IAAI,CAACM,IAAI;EAClB,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAACO,OAAO,CAAC;IAC5D,OAAO,IAAI;EACb;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAG,MAAOV,SAAS,IAAK;EAClD,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,YAAY,CAAC,CAClBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,YAAY,EAAEL,SAAS,CAAC;IAE9B,IAAIE,KAAK,EAAE,MAAMA,KAAK;IAEtB,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAACO,OAAO,CAAC;IAC1D,OAAO,EAAE;EACX;AACF,CAAC;;AAED;AACA,OAAO,MAAME,aAAa,GAAG,MAAOX,SAAS,IAAK;EAChD,IAAI;IACF,MAAM;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAG,MAAMJ,QAAQ,CACnCK,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,YAAY,EAAEL,SAAS,CAAC;IAE9B,IAAIE,KAAK,EAAE,MAAMA,KAAK;IAEtB,OAAOD,IAAI;EACb,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdM,OAAO,CAACN,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAACO,OAAO,CAAC;IACxD,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}